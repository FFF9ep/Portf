# Deployment Guide

This repository contains two main parts:
- `client/`: React Frontend (Vite)
- `server/`: Node.js Backend (Express)

## Prerequisites
- Node.js v18+
- MongoDB (Atlas or Local)
- Environment Variables ready

## 1. Backend Deployment

The backend is a standard Node.js application.

### Setup
1. Navigate to `server/` directory.
2. Install dependencies:
   ```bash
   npm install
   ```

### Environment Variables
Create a `.env` file (or set in your cloud provider, e.g., Render/Heroku/Railway) with:

```env
PORT=5000
MONGODB_URI=mongodb+srv://<user>:<pass>@cluster.mongodb.net/portfolio
NODE_ENV=production
# Optional but recommended for features
GITHUB_TOKEN=ghp_xxxx
OPENAI_API_KEY=sk-xxxx
```

### Run
To start the server in production mode:
```bash
npm start
```
This runs `node src/server.js`.

---

## 2. Frontend Deployment

The frontend is a static site generated by Vite.

### Build
1. Navigate to `client/` directory.
2. Install dependencies:
   ```bash
   npm install
   ```
3. Build the project:
   ```bash
   npm run build
   ```
   This will output the static files to `client/dist/`.

### Serving
You can deploy the `client/dist` folder to any static host:
- Vercel
- Netlify
- AWS S3 / CloudFront
- GitHub Pages

### Connecting to Backend
In production, you likely need to configure the API URL.
By default, the client looks for `http://localhost:5000/api` in `src/services/api.js`.

**Recommendation**:
Update `client/src/services/api.js` to use an environment variable:
```javascript
const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';
```
And set `VITE_API_URL` in your build environment.

---

## 3. Full Stack Deployment (Combined)

If you wish to serve the frontend FROM the backend (Simplest for single-server deploy):

1. Build the frontend (`npm run build`).
2. Copy `client/dist` content to `server/public`.
3. Update `server/src/app.js` to serve static files:
   ```javascript
   import path from 'path';
   app.use(express.static('public'));
   app.get('*', (req, res) => res.sendFile(path.resolve('public', 'index.html')));
   ```
